<mat-toolbar class="navbar">
  <div class="navbar-container">
    <button class="logo-button" mat-button routerLink="home">
      <mat-icon class="logo-icon">music_note</mat-icon>
      <span class="logo-text">JamSession</span>
    </button>

    <nav class="nav-links">
      @if (isAdmin()) {
        <button [disabled]="!isLoggedIn()" mat-button routerLink="admin" class="nav-link">
          <mat-icon>admin_panel_settings</mat-icon>
          <span>Admin</span>
        </button>
      }
      <button (click)="profileButton()" [disabled]="!isLoggedIn()" mat-button class="nav-link">
        <mat-icon>account_circle</mat-icon>
        <span>Profile</span>
      </button>
      <button [disabled]="!isLoggedIn()" mat-button routerLink="jam-session" class="nav-link">
        <mat-icon>queue_music</mat-icon>
        <span>Sessions</span>
      </button>
      <button [disabled]="!isLoggedIn()" mat-button routerLink="new-jam-session" class="nav-link nav-link-primary">
        <mat-icon>add_circle</mat-icon>
        <span>Create</span>
      </button>
      <button [disabled]="!isLoggedIn()" mat-button routerLink="my-jam-sessions" class="nav-link">
        <mat-icon>folder_special</mat-icon>
        <span>My Sessions</span>
      </button>
      <button [disabled]="!isLoggedIn()" mat-button routerLink="users" class="nav-link">
        <mat-icon>people</mat-icon>
        <span>Users</span>
      </button>
      <button [disabled]="!isLoggedIn()" mat-button (click)="signedUpSessions()" class="nav-link">
        <mat-icon>check_circle</mat-icon>
        <span>Signed Up</span>
      </button>
      
      <div class="auth-buttons">
        <button (click)="logOut()" [disabled]="!isLoggedIn()" mat-button routerLink="login" class="nav-link nav-link-logout">
          <mat-icon>logout</mat-icon>
          <span>Log out</span>
        </button>
        <button [disabled]="isLoggedIn()" mat-stroked-button routerLink="login" class="nav-link nav-link-outlined">
          <span>Log in</span>
        </button>
        <button [disabled]="isLoggedIn()" mat-raised-button routerLink="register" class="nav-link nav-link-accent">
          <span>Register</span>
        </button>
      </div>
    </nav>

    <button mat-icon-button class="mobile-menu-button" (click)="toggleMobileMenu()">
      <mat-icon>{{ mobileMenuOpen ? 'close' : 'menu' }}</mat-icon>
    </button>
  </div>
</mat-toolbar>

<!-- Mobile menu overlay -->
@if (mobileMenuOpen) {
  <div class="mobile-menu">
    <nav class="mobile-nav">
      @if (isAdmin()) {
        <button [disabled]="!isLoggedIn()" mat-button routerLink="admin" class="mobile-nav-link" (click)="closeMobileMenu()">
          <mat-icon>admin_panel_settings</mat-icon>
          <span>Admin</span>
        </button>
      }
      <button (click)="profileButton(); closeMobileMenu()" [disabled]="!isLoggedIn()" mat-button class="mobile-nav-link">
        <mat-icon>account_circle</mat-icon>
        <span>Profile</span>
      </button>
      <button [disabled]="!isLoggedIn()" mat-button routerLink="jam-session" class="mobile-nav-link" (click)="closeMobileMenu()">
        <mat-icon>queue_music</mat-icon>
        <span>Sessions</span>
      </button>
      <button [disabled]="!isLoggedIn()" mat-button routerLink="new-jam-session" class="mobile-nav-link" (click)="closeMobileMenu()">
        <mat-icon>add_circle</mat-icon>
        <span>Create Jam</span>
      </button>
      <button [disabled]="!isLoggedIn()" mat-button routerLink="my-jam-sessions" class="mobile-nav-link" (click)="closeMobileMenu()">
        <mat-icon>folder_special</mat-icon>
        <span>My Sessions</span>
      </button>
      <button [disabled]="!isLoggedIn()" mat-button routerLink="users" class="mobile-nav-link" (click)="closeMobileMenu()">
        <mat-icon>people</mat-icon>
        <span>Users</span>
      </button>
      <button [disabled]="!isLoggedIn()" mat-button (click)="signedUpSessions(); closeMobileMenu()" class="mobile-nav-link">
        <mat-icon>check_circle</mat-icon>
        <span>Signed Up Sessions</span>
      </button>
      
      <div class="mobile-auth-section">
        <button (click)="logOut(); closeMobileMenu()" [disabled]="!isLoggedIn()" mat-button routerLink="login" class="mobile-nav-link">
          <mat-icon>logout</mat-icon>
          <span>Log out</span>
        </button>
        <button [disabled]="isLoggedIn()" mat-stroked-button routerLink="login" class="mobile-nav-link" (click)="closeMobileMenu()">
          <span>Log in</span>
        </button>
        <button [disabled]="isLoggedIn()" mat-raised-button routerLink="register" class="mobile-nav-link" (click)="closeMobileMenu()">
          <span>Register</span>
        </button>
      </div>
    </nav>
  </div>
}